import{a as w,t as R,b as Ne,c as Ie}from"../chunks/disclose-version.zfIMc2XZ.js";import{i as ve}from"../chunks/legacy.CxzycWqg.js";import{b as be,h as A,C as de,M as Se,ar as ce,N as $e,O as ee,B as ae,P as V,c as L,at as F,Q as ue,a as _e,R as we,z as G,au as xe,av as Oe,aq as Ce,aw as Me,d as Re,an as qe,ag as he,a7 as De,G as te,ax as Le,ay as ze,az as Pe,ak as Be,aA as Fe,aB as He,L as Ge,aC as Je,E as Ue,aD as Ve,aE as Ke,a8 as Ye,k as ge,aF as Qe,aG as We,aa as Xe,n as z,aH as Ze,aI as je,af as re,Z as se,aJ as ea,a9 as aa,t as D,g as b,r as S,m as I,a2 as ta,p as pe,aK as me,aL as ra,aM as sa,f as Q,aN as na,s as $,e as ye,q as ia,I as H}from"../chunks/runtime.ohFwk6ua.js";import{p as q,c as la,i as oa,o as fa}from"../chunks/index-client.cTzUbgid.js";import{d as va,e as da,l as ca,f as ua,g as X,a as Z}from"../chunks/store.BNTUD2x5.js";function _a(a,e){return e}function ha(a,e,t,r){for(var n=[],s=e.length,l=0;l<s;l++)Oe(e[l].e,n,!0);var c=s>0&&n.length===0&&t!==null;if(c){var g=t.parentNode;Ce(g),g.append(t),r.clear(),C(a,e[0].prev,e[s-1].next)}Me(n,()=>{for(var y=0;y<s;y++){var u=e[y];c||(r.delete(u.k),C(a,u.prev,u.next)),Re(u.e,!c)}})}function ga(a,e,t,r,n,s=null){var l=a,c={flags:e,items:new Map,first:null};A&&de();var g=null,y=!1;be(()=>{var u=t(),i=Se(u)?u:u==null?[]:ce(u),v=i.length;if(y&&v===0)return;y=v===0;let _=!1;if(A){var o=l.data===$e;o!==(v===0)&&(l=ee(),ae(l),V(!1),_=!0)}if(A){for(var h=null,d,m=0;m<v;m++){if(L.nodeType===8&&L.data===qe){l=L,_=!0,V(!1);break}var f=i[m],k=r(f,m);d=ke(L,c,h,null,f,k,m,n,e),c.items.set(k,d),h=d}v>0&&ae(ee())}if(!A){var T=he;pa(i,c,l,n,e,(T.f&F)!==0,r)}s!==null&&(v===0?g?ue(g):g=_e(()=>s(l)):g!==null&&we(g,()=>{g=null})),_&&V(!0),t()}),A&&(l=L)}function pa(a,e,t,r,n,s,l,c){var g=a.length,y=e.items,u=e.first,i=u,v,_=null,o=[],h=[],d,m,f,k;for(k=0;k<g;k+=1){if(d=a[k],m=l(d,k),f=y.get(m),f===void 0){var T=i?i.e.nodes_start:t;_=ke(T,e,_,_===null?e.first:_.next,d,m,k,r,n),y.set(m,_),o=[],h=[],i=_.next;continue}if(ma(f,d,k),f.e.f&F&&ue(f.e),f!==i){if(v!==void 0&&v.has(f)){if(o.length<h.length){var p=h[0],E;_=p.prev;var x=o[0],N=o[o.length-1];for(E=0;E<o.length;E+=1)ne(o[E],p,t);for(E=0;E<h.length;E+=1)v.delete(h[E]);C(e,x.prev,N.next),C(e,_,x),C(e,N,p),i=p,_=N,k-=1,o=[],h=[]}else v.delete(f),ne(f,i,t),C(e,f.prev,f.next),C(e,f,_===null?e.first:_.next),C(e,_,f),_=f;continue}for(o=[],h=[];i!==null&&i.k!==m;)(s||!(i.e.f&F))&&(v??(v=new Set)).add(i),h.push(i),i=i.next;if(i===null)continue;f=i}o.push(f),_=f,i=f.next}if(i!==null||v!==void 0){for(var U=v===void 0?[]:ce(v);i!==null;)(s||!(i.e.f&F))&&U.push(i),i=i.next;var Te=U.length;if(Te>0){var Ae=null;ha(e,U,Ae,y)}}G.first=e.first&&e.first.e,G.last=_&&_.e}function ma(a,e,t,r){xe(a.v,e),a.i=t}function ke(a,e,t,r,n,s,l,c,g,y){var u=(g&ze)!==0,i=(g&Pe)===0,v=u?i?De(n):te(n):n,_=g&Le?te(l):l,o={i:_,v,k:s,a:null,e:null,prev:t,next:r};try{return o.e=_e(()=>c(a,v,_),A),o.e.prev=t&&t.e,o.e.next=r&&r.e,t===null?e.first=o:(t.next=o,t.e.next=o.e),r!==null&&(r.prev=o,r.e.prev=o.e),o}finally{}}function ne(a,e,t){for(var r=a.next?a.next.e.nodes_start:t,n=e?e.e.nodes_start:t,s=a.e.nodes_start;s!==r;){var l=Be(s);n.before(s),s=l}}function C(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function ya(a,e,t,r,n){var c;A&&de();var s=(c=e.$$slots)==null?void 0:c[t],l=!1;s===!0&&(s=e.children,l=!0),s===void 0||s(a,l?()=>r:r)}function ka(a){if(A){var e=!1,t=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var r=a.value;J(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var n=a.checked;J(a,"checked",null),a.checked=n}}};a.__on_r=t,Fe(t),va()}}function J(a,e,t,r){var n=a.__attributes??(a.__attributes={});A&&(n[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||n[e]!==(n[e]=t)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[He]=t),t==null?a.removeAttribute(e):typeof t!="string"&&Ea(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var ie=new Map;function Ea(a){var e=ie.get(a.nodeName);if(e)return e;ie.set(a.nodeName,e=[]);for(var t,r=a,n=Element.prototype;n!==r;){t=Je(r);for(var s in t)t[s].set&&e.push(s);r=Ge(r)}return e}function j(a,e){var t=a.__className,r=Ta(e);A&&a.className===r?a.__className=r:(t!==r||A&&a.className!==r)&&(e==null?a.removeAttribute("class"):a.className=r,a.__className=r)}function Ta(a){return a??""}const Aa=()=>performance.now(),O={tick:a=>requestAnimationFrame(a),now:()=>Aa(),tasks:new Set};function Ee(){const a=O.now();O.tasks.forEach(e=>{e.c(a)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(Ee)}function Na(a){let e;return O.tasks.size===0&&O.tick(Ee),{promise:new Promise(t=>{O.tasks.add(e={c:a,f:t})}),abort(){O.tasks.delete(e)}}}function B(a,e){a.dispatchEvent(new CustomEvent(e))}function Ia(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function le(a){const e={},t=a.split(";");for(const r of t){const[n,s]=r.split(":");if(!n||s===void 0)break;const l=Ia(n.trim());e[l]=s.trim()}return e}const ba=a=>a;function oe(a,e,t,r){var n=(a&Qe)!==0,s=(a&Ze)!==0,l=n&&s,c=(a&je)!==0,g=l?"both":n?"in":"out",y,u=e.inert,i,v;function _(){var f=he,k=G;re(null),se(null);try{return y??(y=t()(e,(r==null?void 0:r())??{},{direction:g}))}finally{re(f),se(k)}}var o={is_global:c,in(){var f;if(e.inert=u,!n){v==null||v.abort(),(f=v==null?void 0:v.reset)==null||f.call(v);return}s||i==null||i.abort(),B(e,"introstart"),i=W(e,_(),v,1,()=>{B(e,"introend"),i==null||i.abort(),i=y=void 0})},out(f){if(!s){f==null||f(),y=void 0;return}e.inert=!0,B(e,"outrostart"),v=W(e,_(),i,0,()=>{B(e,"outroend"),f==null||f()})},stop:()=>{i==null||i.abort(),v==null||v.abort()}},h=G;if((h.transitions??(h.transitions=[])).push(o),n&&da){var d=c;if(!d){for(var m=h.parent;m&&m.f&Ue;)for(;(m=m.parent)&&!(m.f&Ve););d=!m||(m.f&Ke)!==0}d&&Ye(()=>{ge(()=>o.in())})}}function W(a,e,t,r,n){var s=r===1;if(We(e)){var l,c=!1;return Xe(()=>{if(!c){var d=e({direction:s?"in":"out"});l=W(a,d,t,r,n)}}),{abort:()=>{c=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return n(),{abort:z,deactivate:z,reset:z,t:()=>r};const{delay:g=0,css:y,tick:u,easing:i=ba}=e;var v=[];if(s&&t===void 0&&(u&&u(0,1),y)){var _=le(y(0,1));v.push(_,_)}var o=()=>1-r,h=a.animate(v,{duration:g});return h.onfinish=()=>{var d=(t==null?void 0:t.t())??1-r;t==null||t.abort();var m=r-d,f=e.duration*Math.abs(m),k=[];if(f>0){if(y)for(var T=Math.ceil(f/16.666666666666668),p=0;p<=T;p+=1){var E=d+m*i(p/T),x=y(E,1-E);k.push(le(x))}o=()=>{var N=h.currentTime;return d+m*i(N/f)},u&&Na(()=>{if(h.playState!=="running")return!1;var N=o();return u(N,1-N),!0})}h=a.animate(k,{duration:f,fill:"forwards"}),h.onfinish=()=>{o=()=>r,u==null||u(r,1-r),n()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=z)},deactivate:()=>{n=z},reset:()=>{r===0&&(u==null||u(1,0))},t:()=>o()}}function Sa(a,e,t=e){var r=ea();ca(a,"input",n=>{var s=n?a.defaultValue:a.value;if(s=K(a)?Y(s):s,t(s),r&&s!==(s=e())){var l=a.selectionStart,c=a.selectionEnd;a.value=s??"",c!==null&&(a.selectionStart=l,a.selectionEnd=Math.min(c,a.value.length))}}),(A&&a.defaultValue!==a.value||ge(e)==null&&a.value)&&t(K(a)?Y(a.value):a.value),aa(()=>{var n=e();K(a)&&n===Y(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function K(a){var e=a.type;return e==="number"||e==="range"}function Y(a){return a===""?null:+a}var $a=R('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),wa=R('<span class="material-icons-outlined icon svelte-y47uu9"> </span>');function M(a,e){let t=q(e,"name",8),r=q(e,"handler",8,()=>{}),n=q(e,"color",8,"green");var s=wa();ua(c=>{var g=$a();w(c,g)});var l=b(s,!0);S(s),D(()=>{J(s,"style",`--color:${n()??""};`),Z(l,t())}),X("click",s,function(...c){var g;(g=r())==null||g.apply(this,c)}),w(a,s)}const xa=a=>a;function fe(a,{delay:e=0,duration:t=400,easing:r=xa}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*n}`}}var Oa=R("<div><!></div>");function P(a,e){let t=q(e,"last",8,!1);var r=Oa(),n=b(r);ya(n,e,"default",{}),S(r),D(()=>j(r,`cell ${(t()?"cell-last":"")??""} svelte-ir89wu`)),oe(1,r,()=>fe,()=>({daration:700})),oe(2,r,()=>fe,()=>({duration:350})),w(a,r)}var Ca=R("<span> </span>");function Ma(a,e){let t=q(e,"prio",12,3),r=q(e,"disable",8,!1);const n=y=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[y],s=()=>{r()||t((t()+1)%3+1)};var l=Ca();const c=ta(()=>`${(r()?"DISABILITATO":n(t()))??""} svelte-1je1fxy`);var g=b(l,!0);D(()=>Z(g,n(t()))),S(l),D(()=>j(l,I(c))),X("click",l,s),w(a,l)}var Ra=R('<input type="text" placeholder="inserisci il nuovo ToDo">'),qa=R("<!> <!> <!> <!> <!>",1);function Da(a,e){pe(e,!1);let t=q(e,"todo",12),r=me(t().priority);const n=la(),s=()=>{t(t().done=!t().done,!0),c("update")},l=()=>{document.getElementById(t().id).blur(),c("update")},c=o=>{n("change",{type:o,id:t().id})};ra(()=>(ia(t()),I(r)),()=>{t().priority!=I(r)&&(H(r,t().priority),c("update"))}),sa(),ve();var g=qa(),y=Q(g);P(y,{children:(o,h)=>{na();var d=Ne();D(()=>Z(d,t().id)),w(o,d)},$$slots:{default:!0}});var u=$(y,2);P(u,{children:(o,h)=>{var d=Ie(),m=Q(d);{var f=T=>{M(T,{name:"circle",handler:s,color:"red"})},k=T=>{M(T,{name:"task_alt",handler:s})};oa(m,T=>{t().done==!1?T(f):T(k,!1)})}w(o,d)},$$slots:{default:!0}});var i=$(u,2);P(i,{children:(o,h)=>{var d=Ra();ka(d),D(()=>{j(d,`todo-item-input-text ${(t().done==!0?"text-done":"")??""} svelte-vtnw04`),J(d,"id",t().id)}),Sa(d,()=>t().task,m=>t(t().task=m,!0)),X("change",d,l),w(o,d)},$$slots:{default:!0}});var v=$(i,2);P(v,{children:(o,h)=>{Ma(o,{get disable(){return t().done},get prio(){return t().priority},set prio(d){t(t().priority=d,!0)},$$legacy:!0})},$$slots:{default:!0}});var _=$(v,2);P(_,{last:!0,children:(o,h)=>{M(o,{name:"delete_forever",color:"red",handler:()=>c("delete")})},$$slots:{default:!0}}),w(a,g),ye()}var La=R('<h1 class="app-title svelte-1gz8lq9">ToDos</h1> <div class="todo-list svelte-1gz8lq9"><div class="header svelte-1gz8lq9"><!></div> <div class="header svelte-1gz8lq9"><!></div> <div class="header svelte-1gz8lq9"><!></div> <div class="header svelte-1gz8lq9"><!></div> <div class="header header-last svelte-1gz8lq9"><!></div> <!></div>',1);function za(a,e){pe(e,!1);let t=me([]),r=0;fa(async()=>{for(let p=0;p<localStorage.length;p++){const E=localStorage.key(p),x=+E.substring(4);x>=r&&(r=x);const N=JSON.parse(localStorage.getItem(E));N!=null&&I(t).push(N)}H(t,[...I(t)])});const n=async()=>{let p={id:++r,task:"",done:!1,priority:1};console.log("CREATE: ",p),localStorage.setItem("todo"+p.id,JSON.stringify(p)),H(t,[...I(t),p])},s=async p=>{switch(p.detail.type){case"update":l(p.detail.id);break;case"delete":c(p.detail.id);break}},l=p=>{console.log("UPDATE:",p);const E=I(t).filter(x=>x.id==p)[0];localStorage.setItem("todo"+p,JSON.stringify(E))},c=p=>{console.log("DELETE:",p),H(t,I(t).filter(E=>E.id!=p)),localStorage.removeItem("todo"+p)};ve();var g=La(),y=$(Q(g),2),u=b(y),i=b(u);M(i,{name:"tag"}),S(u);var v=$(u,2),_=b(v);M(_,{name:"task_alt"}),S(v);var o=$(v,2),h=b(o);M(h,{name:"list"}),S(o);var d=$(o,2),m=b(d);M(m,{name:"schedule"}),S(d);var f=$(d,2),k=b(f);M(k,{name:"add_box",handler:n}),S(f);var T=$(f,2);ga(T,1,()=>I(t),_a,(p,E)=>{Da(p,{get todo(){return I(E)},$$events:{change:s}})}),S(y),w(a,g),ye()}var Pa=R('<main class="svelte-vkletp"><!></main>');function Ua(a){var e=Pa(),t=b(e);za(t,{}),S(e),w(a,e)}export{Ua as component};
